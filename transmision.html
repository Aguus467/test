<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
<title>Transmisión en Vivo - AngulismoTV</title>
<link rel="shortcut icon" href="assets/logo.png" type="image/x-icon">
<meta name="description" content="Disfruta de transmisiones en vivo de tus canales favoritos con experiencia personalizable">

<!-- Meta tags optimizados -->
<meta name="theme-color" content="#0b0d1b">
<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

<link rel="icon" href="assets/logo2.png">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

<!-- CSS separados - ORDEN CORRECTO -->
<link rel="stylesheet" href="css/espacial-base.css">
<link rel="stylesheet" href="css/header-unificado.css">
<link rel="stylesheet" href="css/transmision.css">
<style>
  /* Reproductor flexible que se adapta al contenido embebido */
  .player-card {
    display: flex;
    flex-direction: column;
    overflow: hidden;
  }
  
  #playerFrame {
    width: 100%;
    height: auto;
    aspect-ratio: 16 / 9;
    border: none;
    background: #000;
    flex: 1;
    overflow: hidden !important;
  }
  
  .player-card iframe {
    min-height: 0 !important;
    flex-grow: 1 !important;
    overflow: hidden !important;
  }
  
  @media (max-width: 768px) {
    #playerFrame { min-height: 300px; }
  }
  
  @media (max-width: 480px) {
    #playerFrame { min-height: 250px; }
  }

  /* Loading state */
  .loading { opacity: 0.5; pointer-events: none; }

  /* Spin animation */
  @keyframes spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
  }

  .spinning { animation: spin 1s linear infinite; }
</style>

<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-P2V7GWXLHJ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-P2V7GWXLHJ');
</script>
</head>
<body>

<!-- Starfield Background -->
<div id="starfield">
  <div class="spiral-galaxy"></div>
  <div class="aurora aurora-1"></div>
  <div class="aurora aurora-2"></div>
</div>

<!-- Header -->
<header class="site-header">
  <div class="logo-container">
    <a href="index.html" aria-label="AngulismoTV - Inicio">
      <img src="assets/logo2.png" alt="AngulismoTV" class="logo">
    </a>
  </div>
  
  <nav role="navigation" aria-label="Navegación principal">
    <a href="index.html#channelsSection">Canales</a>
    <a href="index.html">Agenda</a>
    <a href="multicam.html">Pantalla Dividida</a>
    <a href="https://nowevents.xyz">Entretenimiento</a>
    <a href="https://nowstats.netlify.app">Estadísticas</a>
    <a href="foro.html">Foro</a>
  </nav>
</header>

<!-- Options Bar -->
<section class="options-bar">
    <div class="card-header">
      <div class="channel-head" id="channel-info">
        <img id="channel-logo" src="assets/logo2.png" alt="Logo del canal">
        <div class="channel-info">
          <span class="name" id="channel-name">Canal en Vivo</span>
        </div>
      </div>
    </div>
  <select id="optionSelect" aria-label="Seleccionar transmisión">
    <option value="">Cargando opciones...</option>
  </select>
  <button class="btn" id="reloadBtn" aria-label="Recargar transmisión">
    <svg class="icon-reload" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M21.5 2v6h-6M2.5 22v-6h6M2 11.5a10 10 0 0 1 18.8-4.3M22 12.5a10 10 0 0 1-18.8 4.2"/>
    </svg>
    Recargar
  </button>
</section>

<!-- Main Content -->
<main class="container">
  <!-- Player Card -->
  <section class="card player-card">

    <iframe 
      id="playerFrame"
      scrolling="no"
      allowfullscreen 
      referrerpolicy="no-referrer" 
      allow="autoplay; fullscreen; encrypted-media; picture-in-picture; accelerometer; gyroscope"
      title="Reproductor de transmisión en vivo"
      loading="lazy">
    </iframe>
  </section>

  <!-- Chat Card -->
  <aside class="card chat-card">
    <div class="card-header">
        <button class="chat-toggle" id="chatToggle" aria-label="Minimizar chat">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M6 9l6 6 6-6"/>
        </svg>
  </button>
    </div>

    <iframe 
      id="twitchChat" 
      src="" 
      title="Chat de Twitch" 
      referrerpolicy="no-referrer"
      loading="lazy">
    </iframe>
  </aside>
</main>


<!-- Footer -->
<footer class="site-footer">
  <small>© 2025 AngulismoTV | <a href="dmca.html">DMCA</a></small>
  <small>
    <a href="https://x.com/AngulismoTV">Twitter</a> | 
    <a href="https://discord.gg/jEayDA7T">Discord</a>
  </small>
</footer>

<!-- Scripts -->
<script defer src="scripts/transmision.js"></script>
<script defer src="scripts/transmision-ui.js"></script>

</body>

</html>